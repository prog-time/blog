---
layout: post
title: "Новый релиз Laravel-бота для техподдержки: интеграция с ВКонтакте и Docker-окружение с мониторингом"
date: 2025-06-05
categories: ["open source", "tg-support-bot"]

---
Привет, коллеги.

В этом посте делюсь обновлениями по своему open source-проекту — Laravel-боту для технической поддержки. За месяц проект набрал более **100 клонирований** и **40+ звёзд на GitHub**. От сообщества начали поступать предложения и баг-репорты — спасибо всем, кто подключился.

На основе фидбека реализовал два ключевых улучшения:

*   интеграция с ВКонтакте как новым каналом сообщений
*   docker-compose сборка с полноценным стеком и логированием через Loki + Grafana

GitHub – [https://github.com/prog-time/tg-support-bot](https://github.com/prog-time/tg-support-bot)

Если понравится — буду рад вашей ⭐!

## Интеграция с ВКонтакте

Теперь бот может получать сообщения от сообщества ВКонтакте и пересылать их в Telegram-группу. Это позволяет объединить входящий поток из разных платформ в одном канале.

Поддерживается пересылка:

*   текстовых сообщений
*   файлов
*   изображений
*   голосовых
*   контактов (преобразуются в текстовый формат)

## Подключение ВКонтакте

В сообществе ВКонтакте:

*   создайте ключ с доступом к сообщениям, фото и документам
*   настройте Callback API на https://<домен>/api/vk/bot
*   активируйте события: входящие/исходящие сообщения

В .env проекта пропишите:

```
VK_TOKEN=...
VK_CONFIRM_CODE=...
VK_SECRET_CODE=...
```

Роутинг и обработка реализованы через Laravel Controller с валидацией входящих запросов по VK\_SECRET\_CODE.

![Презентация работы бота](https://habrastorage.org/r/w1560/getpro/habr/upload_files/119/f98/712/119f98712538b4d27f0290c798d1f011.png)

## Docker-сборка

Проект теперь поставляется с готовым docker-compose.yml, включающим:

*   nginx, php-fpm, PostgreSQL
*   pgAdmin — для доступа к БД через браузер
*   Grafana + Loki — для логирования и мониторинга

Логируются:

*   все входящие и исходящие события (включая Telegram и VK)
*   исключения, ошибки Laravel и stack trace

Примеры метрик:

*   количество сообщений по каналам
*   частота ошибок
*   пиковые нагрузки

Grafana может быть сразу подключена к Loki и PostgreSQL для визуализации как логов, так и пользовательских метрик.

![Grafana для бота](https://habrastorage.org/r/w1560/getpro/habr/upload_files/89b/ee5/6ae/89bee56ae1eb6186640c5e339383e95b.png)

## Что дальше

Реализованные доработки — результат прямой обратной связи от пользователей. Следующий этап — интеграция нового канала трафика (анонс после 80 звёзд на GitHub).

Если используете Laravel в проектах с Telegram/VK-ботами, посмотрите репозиторий на GitHub — возможно, он закроет часть ваших задач по организации единой поддержки через мессенджеры.

Pull requests и обсуждения приветствуются.
