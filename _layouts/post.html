---
layout: default
---

<main class="main">
  <article class="article">
    <header class="article-header">
      <div class="article-meta">
        {%- for category in page.categories -%}
          <span class="tag">{{ category }}</span>
        {%- endfor -%}
        {%- assign date_format = site.minima.date_format | default: "%-d %B %Y" -%}
        <time datetime="{{ page.date | date: '%Y-%m-%d' }}">{{ page.date | date: date_format }}</time>
      </div>
      <h1>{{ page.title | escape }}</h1>
      <div class="article-views">
        <img src="https://hitscounter.dev/api/hit?url={{ page.url | prepend: site.url | url_encode }}&label=Просмотров&color=%23737373" alt="views">
      </div>
    </header>

    {%- if page.toc -%}
    <div class="article-toc">
      <p class="toc-title">Содержание:</p>
      <ol>
        {%- for item in page.toc -%}
          <li><a href="#{{ item.id }}">{{ item.title }}</a></li>
        {%- endfor -%}
      </ol>
    </div>
    {%- endif -%}

    <div class="article-content">
      {{ content }}
    </div>

    <footer class="article-footer">
      {%- if page.tags.size > 0 -%}
      <div class="article-tags">
        {%- for tag in page.tags -%}
          <span class="tag">{{ tag }}</span>
        {%- endfor -%}
      </div>
      {%- endif -%}
      <a href="/" class="back-link">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="m15 18-6-6 6-6"/>
        </svg>
        Вернуться к списку статей
      </a>
    </footer>
  </article>
</main>

<div class="lightbox" id="lightbox">
  <img id="lightbox-img" src="#" alt="">
</div>

<script>
  (function () {
    var lightbox = document.getElementById('lightbox');
    var lightboxImg = document.getElementById('lightbox-img');

    document.querySelectorAll('.article-content img').forEach(function (img) {
      img.addEventListener('click', function () {
        lightboxImg.src = this.src;
        lightboxImg.alt = this.alt;
        lightbox.classList.add('active');
      });
    });

    lightbox.addEventListener('click', function () {
      lightbox.classList.remove('active');
    });

    document.addEventListener('keydown', function (e) {
      if (e.key === 'Escape') lightbox.classList.remove('active');
    });
  })();
</script>
